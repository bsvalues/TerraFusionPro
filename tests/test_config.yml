# TerraFusionPro Test Configuration

# Test Environments
environments:
  unit:
    type: "local"
    database: "sqlite"
    cache: "memory"
    timeout: 30
    parallel: true
    max_workers: 4
  
  integration:
    type: "docker"
    database: "postgres"
    cache: "redis"
    timeout: 300
    parallel: false
    max_workers: 1
  
  performance:
    type: "kubernetes"
    database: "postgres"
    cache: "redis"
    timeout: 3600
    parallel: true
    max_workers: 8

# Test Categories
categories:
  unit:
    - name: "core"
      path: "tests/unit/core"
      timeout: 30
      retries: 0
    - name: "api"
      path: "tests/unit/api"
      timeout: 30
      retries: 0
    - name: "services"
      path: "tests/unit/services"
      timeout: 30
      retries: 0
    - name: "utils"
      path: "tests/unit/utils"
      timeout: 30
      retries: 0
  
  integration:
    - name: "api_integration"
      path: "tests/integration/api"
      timeout: 300
      retries: 1
    - name: "database_integration"
      path: "tests/integration/database"
      timeout: 300
      retries: 1
    - name: "cache_integration"
      path: "tests/integration/cache"
      timeout: 300
      retries: 1
    - name: "external_services"
      path: "tests/integration/external"
      timeout: 300
      retries: 1
  
  performance:
    - name: "load_test"
      path: "tests/performance/load"
      timeout: 3600
      retries: 0
    - name: "stress_test"
      path: "tests/performance/stress"
      timeout: 3600
      retries: 0
    - name: "endurance_test"
      path: "tests/performance/endurance"
      timeout: 3600
      retries: 0

# Test Data
test_data:
  fixtures:
    - path: "tests/fixtures/users.json"
      type: "json"
    - path: "tests/fixtures/transactions.json"
      type: "json"
    - path: "tests/fixtures/configs.json"
      type: "json"
  
  generators:
    - name: "user_generator"
      path: "tests/generators/user.py"
      type: "python"
    - name: "transaction_generator"
      path: "tests/generators/transaction.py"
      type: "python"

# Performance Benchmarks
benchmarks:
  response_time:
    threshold: 200  # milliseconds
    sample_size: 1000
    confidence_level: 0.95
  
  throughput:
    threshold: 1000  # requests per second
    duration: 300  # seconds
    ramp_up: 60  # seconds
  
  error_rate:
    threshold: 0.01  # 1%
    sample_size: 10000
  
  resource_usage:
    cpu:
      threshold: 80  # percent
      duration: 300  # seconds
    memory:
      threshold: 80  # percent
      duration: 300  # seconds
    disk:
      threshold: 80  # percent
      duration: 300  # seconds

# Test Reporting
reporting:
  formats:
    - "junit"
    - "html"
    - "json"
  
  destinations:
    - type: "file"
      path: "reports"
    - type: "s3"
      bucket: "terrafusionpro-test-reports"
      prefix: "reports"
  
  notifications:
    - type: "slack"
      channel: "#test-results"
    - type: "email"
      recipients:
        - "qa-team@terrafusionpro.com"
        - "dev-team@terrafusionpro.com"

# Test Dependencies
dependencies:
  python:
    - "pytest"
    - "pytest-cov"
    - "pytest-xdist"
    - "pytest-benchmark"
    - "locust"
    - "requests"
    - "aiohttp"
  
  node:
    - "jest"
    - "supertest"
    - "k6"
    - "artillery"

# Test Security
security:
  scan_types:
    - "sast"
    - "dast"
    - "dependency"
    - "container"
  
  thresholds:
    critical: 0
    high: 0
    medium: 5
    low: 10
  
  exclusions:
    - "tests/fixtures"
    - "tests/generators"
    - "tests/mocks"

# Test Maintenance
maintenance:
  cleanup:
    - type: "reports"
      age: 30  # days
    - type: "logs"
      age: 7  # days
    - type: "artifacts"
      age: 14  # days
  
  backup:
    - type: "test_data"
      frequency: "daily"
      retention: 7  # days
    - type: "reports"
      frequency: "weekly"
      retention: 30  # days 